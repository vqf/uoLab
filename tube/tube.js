let tube_code = {
  tag: "g",
  class: "tube closedTube",
  content: [
    {
      tag: "path",
      id: "ctb",
      d:
        "m 91.71429,114.9003798 c 10e-6,-1.10874 4.07455,-2.00755 9.10075,-2.00755 m -9.10075,2.00755 c -2e-5,1.10874 4.07454,2.00756 9.10075,2.00756 5.02622,0 9.10077,-0.89882 9.10076,-2.00756 -1e-5,-1.10874 -4.07456,-2.00755 -9.10076,-2.00755 0,0 -6.43673,0.18309 -9.65436,0.29692 -1.33918,0.0474 -2.82497,0.77373 -4.01683,0.16067 l 1.08167,-2.77581 c 1.13065,0.33681 1.10602,1.69001 2.06496,2.37611 0.487,0.34844 2.54399,-0.61185 2.84243,-0.093 0.48059,0.83561 -1.03474,2.34837 -0.23268,2.88275 2.02952,1.35219 3.63317,1.39176 6.06148,1.61761 1.99887,0.18592 4.03775,-0.0748 6.0032,-0.48262 1.24317,-0.25793 2.75123,-0.46894 3.5054,-1.49022 0.58034,-0.7859 -0.89554,-2.18928 -0.24778,-2.92153 0.53736,-0.60745 1.58453,0.34308 2.37643,0.51421 0.4333,0.62629 0.86636,1.25229 1.29918,1.87801 0.81186,-0.73979 1.76179,-1.35354 2.43603,-2.22132 0.48841,-0.6286 1.04492,-1.38366 0.98174,-2.17749 -0.0838,-1.05285 -0.34091,-2.6697 -1.38178,-2.85186 -6.2854,-1.09999 -12.74388,-0.66995 -19.12278,-0.7375 -2.06015,-0.0218 -4.17748,-0.0803 -6.16334,0.46971 -0.48988,0.13567 -3.45022,6.1277 -3.91426,6.3343 v 0 c 0,0 1.92834,1.49935 2.89211,2.24942 1.60694,0.14469 4.8202,0.43487 4.8202,0.43487 v 34.43124 c 0,0 2.83991,17.20144 6.10559,25.20647 0.5261,1.28961 3.65162,1.2891 4.17752,0 3.26567,-8.00496 6.10561,-25.20647 6.10561,-25.20647 V 116.3560598"
    },
    {
      tag: "path",
      id: "clid",
      d:
        "m 88.1316,110.3608998 c 1.13172,0.33314 1.11148,1.68641 2.07265,2.3694 0.48812,0.34686 2.54199,-0.62009 2.8421,-0.10218 0.4833,0.83405 -1.02711,2.35171 -0.22332,2.88348 2.03389,1.3456 3.63767,1.37997 6.0667,1.59794 1.99945,0.17943 4.03748,-0.0879 6.0016,-0.5021 1.24233,-0.26196 2.7497,-0.47787 3.50054,-1.50159 0.57779,-0.78777 -0.90263,-2.18635 -0.25726,-2.9207 0.53539,-0.6092 1.58564,0.33794 2.37809,0.50649 0.43533,0.62488 0.87042,1.24948 1.30527,1.87379 0.80945,-0.74242 1.75739,-1.35925 2.42881,-2.22921 0.48637,-0.63018 1.04042,-1.38704 0.97467,-2.18068 -0.0872,-1.05256 -0.34957,-2.66857 -1.39102,-2.84735 -6.28894,-1.0796 -12.74599,-0.6286 -19.12507,-0.67546 -2.06022,-0.0151 -4.17773,-0.0668 -6.16179,0.4897 -0.48943,0.13728 -0.12887,1.19642 -0.59225,1.40452",
      content: {
        tag: "animate",
        id: "openlid",
        attributeName: "d",
        dur: "1s",
        restart: "whenNotActive",
        begin: "indefinite",
        values:
          "m 88.1316,110.3608998 c 1.13172,0.33314 1.11148,1.68641 2.07265,2.3694 0.48812,0.34686 2.54199,-0.62009 2.8421,-0.10218 0.4833,0.83405 -1.02711,2.35171 -0.22332,2.88348 2.03389,1.3456 3.63767,1.37997 6.0667,1.59794 1.99945,0.17943 4.03748,-0.0879 6.0016,-0.5021 1.24233,-0.26196 2.7497,-0.47787 3.50054,-1.50159 0.57779,-0.78777 -0.90263,-2.18635 -0.25726,-2.9207 0.53539,-0.6092 1.58564,0.33794 2.37809,0.50649 0.43533,0.62488 0.87042,1.24948 1.30527,1.87379 0.80945,-0.74242 1.75739,-1.35925 2.42881,-2.22921 0.48637,-0.63018 1.04042,-1.38704 0.97467,-2.18068 -0.0872,-1.05256 -0.34957,-2.66857 -1.39102,-2.84735 -6.28894,-1.0796 -12.74599,-0.6286 -19.12507,-0.67546 -2.06022,-0.0151 -4.17773,-0.0668 -6.16179,0.4897 -0.48943,0.13728 -0.12887,1.19642 -0.59225,1.40452; m 86.06627,110.29762 c 0.24476,-1.15407 1.59555,-1.23839 2.20228,-2.24942 0.30813,-0.51345 -0.81453,-2.48652 -0.32134,-2.82573 0.79424,-0.54626 2.424,0.84245 2.89212,0 1.18453,-2.13173 1.09495,-3.73337 1.12471,-6.171975 0.0245,-2.00734 -0.39946,-4.01864 -0.96404,-5.94491 -0.3571,-1.21839 -0.68876,-2.70459 -1.76741,-3.37414 -0.83003,-0.51523 -2.11012,1.06877 -2.89211,0.48202 -0.64872,-0.48675 0.21449,-1.607 0.32134,-2.4101 0.5894,-0.48228 1.17854,-0.9643 1.76741,-1.44606 -0.80271,-0.74971 -1.49089,-1.64718 -2.4101,-2.24942 -0.66586,-0.43626 -1.46324,-0.93021 -2.24943,-0.80337 -1.04269,0.16822 -2.63361,0.55458 -2.73144,1.60673 -0.59076,6.35353 0.3575,12.75648 0.80336,19.120125 0.144,2.05523 0.25601,4.17042 0.96404,6.10559 0.17466,0.47736 1.2028,0.0361 1.44606,0.48202"
      }
    }
  ]
};

function tube_behavior() {
  let tb = document.getElementById("local(clid)");
  tb.addEventListener("click", function(e) {
    let an = document.getElementById("local(openlid)");
    an.beginElement();
  });
}

class tube extends plugger {
  constructor(parent) {
    let mp = loadSVGTag(tube_code);
    super(parent, mp, tube_behavior);
  }
  inject(x, y) {
    super.inject(x, y);
    let bod = this.getElementByLocalId("ctb");
    this.makeDraggable(bod);
  }
}
